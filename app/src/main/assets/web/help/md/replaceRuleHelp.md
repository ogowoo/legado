# 替换净化帮助

## 什么是替换净化？
替换净化可以去除书籍内容里的广告、错别字、屏蔽词、网站提示等无用内容。

## 如何手动添加替换规则？
1. 点击右上角"+"新建规则
2. 填写规则名称（如：过滤广告）
3. 填写匹配规则（需要被替换的内容）
4. 填写替换为（想替换成的内容，留空表示删除）
5. 设置作用范围（对哪本书或哪个书源生效）

## AI智能生成规则

### 什么是AI生成规则？
AI可以根据您提供的示例文本，自动生成正则表达式规则，用于批量处理同类问题。

### 如何使用AI生成规则？
1. 在替换规则编辑页面，点击"AI生成"按钮
2. 输入要匹配的文本示例（可输入多个，每行一个）
3. 点击"生成正则表达式"
4. AI会生成通用的正则规则
5. 确认后自动填入规则框

### 示例
**输入示例：**
```
本章未完，点击继续阅读
本章未完，请点击下一页
```

**AI生成规则：**
```
本章[\s\S]{0,20}?(?:继续阅读|点击阅读)
```

## 从AI修复生成规则

当您使用AI修复功能修复了内容后：
1. 在AI修复对比对话框中点击"生成规则"
2. 选择生成"通用规则"或"特定规则"
3. 通用规则：使用正则表达式匹配同类内容
4. 特定规则：精确匹配特定文本
5. 选择作用范围（仅本书或整个书源）
6. 保存规则后会自动应用到书籍

## AI优化规则

### 什么是AI优化？
AI可以分析您的所有替换规则，发现相似或可以合并的规则，帮助简化规则列表。

### 如何使用AI优化？
1. 在替换规则管理页面，当规则数量较多时，会显示AI优化提示
2. 点击"优化"按钮
3. AI会分析并展示可合并的规则
4. 确认后自动合并相似规则

## 常用正则表达式

| 表达式 | 说明 | 示例 |
|--------|------|------|
| `.*?` | 匹配任意字符（非贪婪） | `本章.*?继续` |
| `[\s\S]+` | 匹配任意字符（包括换行） | `[\s\S]{0,20}` |
| `\d+` | 匹配数字 | `第\d+章` |
| `\w+` | 匹配单词字符 | `\w+` |
| `\n` | 匹配换行符 | `\n\n+` |
| `^` | 行首 | `^广告` |
| `$` | 行尾 | `推广$` |

## 注意事项

1. 使用正则表达式时务必勾选"使用正则"
2. 规则作用范围不填时对所有书籍生效
3. 规则有优先级，排在上面的优先执行
4. 建议定期使用AI优化整理规则
