# [English](English.md) [中文](README.md)

![icon_android](https://gitee.com/lyc486/yuedu/raw/master/icon_android.png)
<a href="https://jb.gg/OpenSourceSupport" target="_blank">
<img width="24" height="24" src="https://resources.jetbrains.com/storage/products/company/brand/logos/jb_beam.svg?_gl=1*135yekd*_ga*OTY4Mjg4NDYzLjE2Mzk0NTE3MzQ.*_ga_9J976DJZ68*MTY2OTE2MzM5Ny4xMy4wLjE2NjkxNjMzOTcuNjAuMC4w&_ga=2.257292110.451256242.1669085120-968288463.1639451734" alt="idea"/>
</a>

<div align="center">
<img width="125" height="125" src="https://github.com/gedoor/legado/raw/master/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png" alt="legado"/>
<br>
阅读Sigma
<br>
<a href="https://loyc.xyz/c/legado.html" target="_blank">软件介绍页</a>
<br>
阅读Sigma继承自<a href="https://github.com/gedoor/legado" target="_blank">Legado</a>，在其基础上新增更多功能。
</div>

## 版本说明
- 测试版(beta)：包名与原版相同，可覆盖更新，版本更新频繁
- 正式版(plus)：新的共存包名，安装后是一个新软件，不会覆盖原版，每到一个稳定阶段进行一次更新
#### 找不到下载地址可以去这里 [下载软件](https://gitee.com/lyc486/legado/releases)

[![](https://img.shields.io/badge/-Contents:-696969.svg)](#contents) [![](https://img.shields.io/badge/-Function-F5F5F5.svg)](#Function-主要功能-) [![](https://img.shields.io/badge/-NewFeatures-F5F5F5.svg)](#NewFeatures-新增功能-) [![](https://img.shields.io/badge/-AIRepair-F5F5F5.svg)](#AIRepair-AI助手-) [![](https://img.shields.io/badge/-BestSource-F5F5F5.svg)](#BestSource-最优源选择-) [![](https://img.shields.io/badge/-Community-F5F5F5.svg)](#Community-交流社区-) [![](https://img.shields.io/badge/-API-F5F5F5.svg)](#API-) [![](https://img.shields.io/badge/-Other-F5F5F5.svg)](#Other-其他-)

>新用户？
>
>软件不提供内容，需要您自己手动添加，例如导入书源等。
>看看 [官方帮助文档](https://www.yuque.com/legado/wiki)，也许里面就有你要的答案。

# NewFeatures-新增功能 [![](https://img.shields.io/badge/-NewFeatures-F5F5F5.svg)](#NewFeatures-新增功能-)

## 🤖 AI 助手中心

全新升级的 AI 助手系统，提供一站式 AI 功能入口和智能辅助。

### AI 功能亮点
- **AI 内容修正** - 阅读时自动修复错字、乱码、OCR错误
- **AI 正则生成** - 根据自然语言描述智能生成替换规则
- **AI 规则优化** - 智能检测替换规则冲突并给出优化建议
- **AI 书源生成** - 根据描述自动生成书源规则（实验性）

### 支持的 AI 提供商 (10+)
- **阿里云 DashScope (通义千问)** ⭐ 推荐 - 新用户 100万 Token 免费
- **智谱 AI (GLM)** - 新用户 1000万 Token 免费
- **DeepSeek** - 价格低，中文表现好
- **百度千帆 (文心一言)** - 有免费额度
- **NVIDIA NIM** - 高性能推理
- **Groq** - 极速响应
- **SiliconFlow** - 中文优化
- **Together AI** - 开源模型
- **OpenAI** - 官方 API
- **自定义 OpenAI 兼容** - 支持第三方代理

### 快速开始
1. 进入：**我的 → AI助手**
2. 开启"AI功能总开关"
3. 选择提供商并填写 API Key
4. 即可在各功能入口使用 AI 辅助

### 获取免费 API Key
- 阿里云：https://dashscope.aliyun.com/（100万 Token 免费）
- 智谱 AI：https://open.bigmodel.cn/（1000万 Token 免费）

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

## 🎯 最优源选择

智能对比多个书源，自动选择最优的书源。

### 评估维度
- 章节数量 (25%)
- 内容完整性 (20%)
- 更新速度 (15%)
- 书源质量 (15%)
- 响应速度 (15%)
- 稳定性 (10%)

### 使用方法
1. 打开任意书籍
2. 点击顶部书名或进入换源界面
3. 等待搜索完成
4. 点击底部"使用最优源"按钮
5. 查看评估详情，确认后自动切换

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# Function-主要功能 [![](https://img.shields.io/badge/-Function-F5F5F5.svg)](#Function-主要功能-)
[English](English.md)

<details><summary>中文</summary>
1.自定义书源，自己设置规则，抓取网页数据，规则简单易懂，软件内有规则说明。<br>
2.列表书架，网格书架自由切换。<br>
3.书源规则支持搜索及发现，所有找书看书功能全部自定义，找书更方便。<br>
4.订阅内容,可以订阅想看的任何内容,看你想看<br>
5.支持替换净化，去除广告替换内容很方便。<br>
6.支持本地TXT、EPUB阅读，手动浏览，智能扫描。<br>
7.支持高度自定义阅读界面，切换字体、颜色、背景、行距、段距、加粗、简繁转换等。<br>
8.支持多种翻页模式，覆盖、仿真、滑动、滚动等。<br>
9.软件开源，持续优化，无广告。<br>
10.AI助手中心，提供内容修正、正则生成、规则优化等智能功能。<br>
11.智能最优源选择，多维度对比书源质量。<br>
12.全新AI主题图标设计。
</details>

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# AIRepair-AI助手 [![](https://img.shields.io/badge/-AIRepair-F5F5F5.svg)](#AIRepair-AI助手-)

## 🤖 AI 功能概览

阅读Sigma 内置强大的 AI 助手，提供多种智能功能：

| 功能 | 入口位置 | 说明 |
|------|----------|------|
| **AI 内容修正** | 阅读页长按菜单 | 自动修复错字、乱码、漏字 |
| **AI 替换规则生成** | 替换规则编辑页 | 根据描述智能生成正则表达式 |
| **AI 规则优化** | 替换规则管理页 | 检测规则冲突并优化 |
| **AI 书源生成** | AI助手中心 | 根据描述智能生成书源规则 |

## 支持的 AI 提供商
- **阿里云 DashScope (通义千问)** ⭐ 推荐 - 新用户 100万 Token 免费
- **智谱 AI (GLM)** - 新用户 1000万 Token 免费
- **DeepSeek** - 价格低，中文表现好
- **百度千帆 (文心一言)** - 有免费额度
- **OpenAI** - 官方 API
- **NVIDIA NIM** - 高性能推理
- **Groq** - 极速响应
- **SiliconFlow** - 中文优化
- **Together AI** - 开源模型
- **自定义 OpenAI 兼容** - 支持第三方代理

## 使用方法

### 1. 开启 AI 助手
进入：我的 → AI助手 → 开启"AI功能总开关"

### 2. 配置 API
- 选择 AI 提供商
- 填写 API Key（从对应官网获取）
- 测试连接

### 3. 使用 AI 功能
- **阅读时修正**：长按正文 → AI修正
- **生成正则**：替换规则编辑 → AI生成
- **优化规则**：替换规则管理 → AI优化提示

### 4. 高级设置
- **模型选择**：不同提供商有不同模型
- **温度参数**：控制创造性，越低越稳定（建议 0.2）
- **最大 Token**：控制生成长度（默认 512）
- **系统提示词**：可自定义 AI 角色

## 获取免费 API Key
- 阿里云：https://dashscope.aliyun.com/（100万 Token 免费）
- 智谱 AI：https://open.bigmodel.cn/（1000万 Token 免费）
- DeepSeek：https://platform.deepseek.com/

## 常见问题

**Q: AI 功能为什么没有效果？**  
A: 请检查：
1. 确认已开启"AI功能总开关"
2. API Key 是否正确
3. 网络连接是否正常
4. API 额度是否充足

**Q: 如何查看 AI 是否在工作？**  
A: 查看日志会看到：
- `AI内容修正开始: 段落长度=xxx`
- `AI内容修正成功: 原文=xxx -> 修正=xxx`

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# BestSource-最优源选择 [![](https://img.shields.io/badge/-BestSource-F5F5F5.svg)](#BestSource-最优源选择-)

## 功能说明

通过多维度评估，自动为您选择最优的书源。

## 评估指标

| 指标 | 权重 | 说明 |
|------|------|------|
| 章节数量 | 25% | 章节越多越完整 |
| 内容完整性 | 20% | 是否有简介、封面等 |
| 更新速度 | 15% | 最新章节时间 |
| 书源质量 | 15% | 历史评分 |
| 响应速度 | 15% | 加载速度 |
| 稳定性 | 10% | 错误率 |

## 使用方法

1. 打开书籍详情页
2. 点击"换源"按钮
3. 等待搜索完成（显示进度）
4. 点击底部"使用最优源"按钮
5. 查看评分详情，确认切换

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# Community-交流社区 [![](https://img.shields.io/badge/-Community-F5F5F5.svg)](#Community-交流社区-)

#### Telegram
[![Telegram-channel](https://img.shields.io/badge/Σ_Telegram-%E9%A2%91%E9%81%93-blue)](https://t.me/readsigma)

#### WeChat
[![WeChat-channel](https://img.shields.io/badge/Σ_%e5%be%ae%e4%bf%a1-%e5%85%ac%e4%bc%97%e5%8f%b7-green)](https://mp.weixin.qq.com/s/f54f7yP9HQi6P5Wky8wE1A)  
<img src="https://open.weixin.qq.com/qr/code?username=legado_plus" width="100">

#### Discord
[![Discord](https://img.shields.io/discord/560731361414086666?color=%235865f2&label=Discord)](https://discord.gg/VtUfRyzRXn)

#### Other
https://www.yuque.com/legado/wiki/community

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# API [![](https://img.shields.io/badge/-API-F5F5F5.svg)](#API-)
* 阅读3.0 提供了2种方式的API：`Web方式`和`Content Provider方式`。您可以在[这里](api.md)根据需要自行调用。 
* 可通过url唤起阅读进行一键导入,url格式: legado://import/{path}?src={url}
* path类型: bookSource,rssSource,replaceRule,textTocRule,httpTTS,theme,readConfig,dictRule,[addToBookshelf](/app/src/main/java/io/legado/app/ui/association/AddToBookshelfDialog.kt)
* path类型解释: 书源,订阅源,替换规则,本地txt小说目录规则,在线朗读引擎,主题,阅读排版,添加到书架

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# Build-编译说明 [![](https://img.shields.io/badge/-Build-F5F5F5.svg)](#Build-编译说明-)

## 环境要求
- Java 17
- Android SDK 36
- Gradle 8.14.3

## 快速开始

```bash
# 1. 克隆代码
git clone https://github.com/ogowoo/legado.git

# 2. 安装 Android Studio 或使用命令行工具
# 下载地址: https://developer.android.com/studio

# 3. 配置 SDK 路径
# 创建 local.properties 文件，内容如下：
sdk.dir=C:\\Users\\你的用户名\\AppData\\Local\\Android\\Sdk

# 4. 编译调试版本
./gradlew.bat assembleDebug

# 5. APK 输出位置
app/build/outputs/apk/app/debug/legado_app_xxx.apk
```

## 自动安装脚本

项目提供了 PowerShell 脚本自动安装 Android SDK：

```powershell
# 运行安装脚本
.\install-android-sdk.ps1
```

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# Other-其他 [![](https://img.shields.io/badge/-Other-F5F5F5.svg)](#Other-其他-)
##### 免责声明
https://gedoor.github.io/Disclaimer

##### 阅读3.0
* [书源规则](https://mgz0227.github.io/The-tutorial-of-Legado/)
* [更新日志](/app/src/main/assets/updateLog.md)
* [帮助文档](/app/src/main/assets/web/help/md/appHelp.md)
* [web端书架](https://github.com/gedoor/legado_web_bookshelf)
* [web端源编辑](https://github.com/gedoor/legado_web_source_editor)

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>

# Grateful-感谢 [![](https://img.shields.io/badge/-Grateful-F5F5F5.svg)](#Grateful-感谢-)
> * org.jsoup:jsoup
> * cn.wanghaomiao:JsoupXpath
> * com.jayway.jsonpath:json-path
> * com.github.gedoor:rhino-android
> * com.squareup.okhttp3:okhttp
> * com.github.bumptech.glide:glide
> * org.nanohttpd:nanohttpd
> * org.nanohttpd:nanohttpd-websocket
> * cn.bingoogolapple:bga-qrcode-zxing
> * com.jaredrummler:colorpicker
> * org.apache.commons:commons-text
> * io.noties.markwon:core
> * io.noties.markwon:image-glide
> * com.hankcs:hanlp
> * com.positiondev.epublib:epublib-core
> * DashScope, Zhipu AI, DeepSeek, Baidu Qianfan（AI 提供商）

<a href="#readme">
    <img src="https://img.shields.io/badge/-返回顶部-orange.svg" alt="#" align="right">
</a>


